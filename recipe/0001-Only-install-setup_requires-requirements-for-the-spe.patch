From 2792986cbee627b80c339812519cf8517ec34bc5 Mon Sep 17 00:00:00 2001
From: Tanner Prestegard <tanner.prestegard@ligo.org>
Date: Tue, 5 Feb 2019 11:53:23 -0600
Subject: [PATCH] Only install setup_requires requirements for the specific
 command being used

---
 setup.py | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/setup.py b/setup.py
index 06ff250..06b66b3 100644
--- a/setup.py
+++ b/setup.py
@@ -57,6 +57,10 @@ tests_require = [
 if sys.version_info.major < 3:
     tests_require.append('mock')
 
+# Only install setup_requires for the specific command being used
+SETUP_REQUIRES = []
+if 'test' in sys.argv:
+    SETUP_REQUIRES.append('pytest-runner')
 
 # Call setup()
 setup(
@@ -76,9 +80,7 @@ setup(
     namespace_packages=['ligo'],
     packages=find_packages(),
     install_requires=['future', 'six'],
-    setup_requires=[
-        'pytest-runner',
-    ],
+    setup_requires=SETUP_REQUIRES,
     tests_require=tests_require,
     package_data={
         'ligo.gracedb.test': [
-- 
2.20.1

